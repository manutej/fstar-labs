# F* Labs ðŸ”¬

**Formal Verification and Dependent Type Research Laboratory**

A comprehensive research laboratory exploring F* (F-Star), dependent types, formal verification, and meta-prompting frameworks for rigorous software correctness.

---

## ðŸŽ¯ What is F* Labs?

F* Labs is a curated collection of:
- **F* Language Skills** - Deep expertise in dependent type programming
- **Formal Verification Patterns** - Proven techniques for software correctness
- **Meta-Prompting Frameworks** - 7-level categorical frameworks (L1-L7)
- **Research Documentation** - Multi-plane analysis (MERCURIO methodology)

---

## ðŸ“š Repository Contents

### 1. **F* Verification Skill** (`skill/`)
Complete Claude Code skill for F* development:
- **README.md** - Skill overview and integration guide
- **SKILL.md** - Core F* language expertise (14KB)
- **EXAMPLES.md** - Practical verification examples (39KB)
- **META-PROMPTING.md** - Advanced prompting techniques (4KB)

**Total**: 82KB of formal verification knowledge

### 2. **Meta-Prompting Framework**
- **FSTAR_META_PROMPTING_FRAMEWORK.md** (27KB)
  - 7-level categorical framework (Novice â†’ Genius)
  - 42 verification examples across all levels
  - 7 categorical proofs with functorial mappings
  - Exponential growth patterns (Lâ‚ â†’ Lâ‚‡)

### 3. **Multi-Plane Analysis**
- **MERCURIO_THREE_PLANE_ANALYSIS.md** (33KB)
  - Mental Plane: Understanding F*'s type theory
  - Physical Plane: Practical verification patterns
  - Spiritual Plane: Ethical formal methods practice

---

## ðŸš€ Quick Start

### Using the F* Skill in Claude Code

```bash
# The skill is auto-loaded from ~/.claude/skills/fstar-verification/
# Simply reference F* concepts and the skill activates automatically

# Example queries:
"Write an F* function with dependent types"
"Verify this sorting algorithm in F*"
"Explain refinement types with examples"
```

### Exploring the Frameworks

```bash
# Read the meta-prompting framework
cat FSTAR_META_PROMPTING_FRAMEWORK.md

# Study the three-plane analysis
cat MERCURIO_THREE_PLANE_ANALYSIS.md

# Check skill examples
cat skill/EXAMPLES.md
```

---

## ðŸ§ª What You Can Build

With F* Labs, you can:

âœ… **Verify functional correctness** of critical algorithms
âœ… **Prove security properties** using refinement types
âœ… **Generate verified code** that compiles to OCaml/F#/C
âœ… **Reason about side effects** with monadic effect systems
âœ… **Create cryptographic primitives** with formal guarantees
âœ… **Build verified compilers** and interpreters

---

## ðŸ“– Key Concepts Covered

### F* Language Features
- Dependent types and refinement types
- Effectful programming (Pure, ST, All, Ghost)
- Proof automation with SMT solvers (Z3)
- Extraction to executable code
- Modular verification and proof reuse

### Verification Patterns
- Preconditions and postconditions
- Loop invariants and termination proofs
- Abstract predicates and logical refinements
- Effect polymorphism
- Cryptographic correctness proofs

### Meta-Prompting Levels

| Level | Complexity | Example Task |
|-------|-----------|--------------|
| **L1** | Novice | Basic syntax, simple predicates |
| **L2** | Apprentice | Dependent pairs, basic proofs |
| **L3** | Journeyman | Custom effects, modular proofs |
| **L4** | Expert | Advanced tactics, proof engineering |
| **L5** | Master | DSL design, proof architectures |
| **L6** | Grandmaster | Meta-theory, proof reuse frameworks |
| **L7** | Genius | Novel verification paradigms |

---

## ðŸ”¬ Research Components

### 1. **Categorical Framework**
The meta-prompting framework uses category theory:
- **Objects**: Verification tasks at each level
- **Morphisms**: Skill transformations between levels
- **Functors**: Level-to-level mappings (Lâ‚ â†’ Lâ‚‡)
- **Natural Transformations**: Cross-level coherence

### 2. **MERCURIO Methodology**
Three-plane analysis for holistic understanding:
- **Mental**: Deep comprehension of type theory
- **Physical**: Practical implementation patterns
- **Spiritual**: Ethical formal methods practice

### 3. **Claude Code Integration**
Seamless skill integration:
- Auto-loaded from `~/.claude/skills/`
- Progressive disclosure (L1 â†’ L7)
- Context-aware activation
- Example-driven learning

---

## ðŸ“‚ Directory Structure

```
fstar-labs/
â”œâ”€â”€ README.md                              # This file
â”œâ”€â”€ FSTAR_META_PROMPTING_FRAMEWORK.md      # 7-level framework
â”œâ”€â”€ MERCURIO_THREE_PLANE_ANALYSIS.md       # Multi-plane analysis
â””â”€â”€ skill/                                 # F* verification skill
    â”œâ”€â”€ README.md                          # Skill overview
    â”œâ”€â”€ SKILL.md                           # Core expertise
    â”œâ”€â”€ EXAMPLES.md                        # Practical examples
    â””â”€â”€ META-PROMPTING.md                  # Advanced techniques
```

---

## ðŸŽ“ Learning Path

**Beginner** (L1-L2):
1. Read `skill/README.md` for overview
2. Study `skill/EXAMPLES.md` basic examples
3. Practice simple refinement types

**Intermediate** (L3-L4):
1. Review `FSTAR_META_PROMPTING_FRAMEWORK.md`
2. Explore custom effects in `skill/SKILL.md`
3. Build modular verification projects

**Advanced** (L5-L7):
1. Study categorical proofs in framework
2. Review `MERCURIO_THREE_PLANE_ANALYSIS.md`
3. Design novel verification architectures

---

## ðŸ› ï¸ Integration with Claude Code

This lab is designed for seamless integration with Claude Code's agent architecture:

```bash
# The skill auto-activates when you:
- Reference F* syntax or concepts
- Request verification tasks
- Ask about dependent types
- Need formal proofs

# Explicit activation:
Skill(fstar-verification)
```

**Agent + Skills + Virtual Machine** = Complete formal verification environment

---

## ðŸ“Š Metrics

| Component | Size | Examples | Proofs |
|-----------|------|----------|--------|
| Core Skill | 14KB | 20+ | 10+ |
| Examples | 39KB | 42 | 15+ |
| Meta-Prompting | 4KB | 7 levels | 7 categorical |
| Framework | 27KB | 42 | 7 functorial |
| Analysis | 33KB | - | - |
| **Total** | **117KB** | **104+** | **32+** |

---

## ðŸŒŸ Highlights

### Verified Algorithms
- Binary search with correctness proofs
- Sorting with functional correctness
- Cryptographic primitives (AES, SHA)
- Protocol verification (TLS)

### Advanced Features
- Effect polymorphism examples
- SMT-guided proof automation
- Extraction to multiple targets
- Modular proof composition

### Research Frameworks
- 7-level meta-prompting hierarchy
- Categorical verification patterns
- Three-plane analytical methodology
- Progressive skill disclosure

---

## ðŸ¤ Usage

This repository is designed for:
- **Researchers** exploring formal verification
- **Developers** learning dependent types
- **AI Agents** (Claude Code) providing F* assistance
- **Educators** teaching formal methods

---

## ðŸ“œ License

Research and educational use. F* is developed by Microsoft Research and Inria.

---

## ðŸ”— Resources

- **F* Official**: https://www.fstar-lang.org/
- **F* Tutorial**: https://www.fstar-lang.org/tutorial/
- **F* GitHub**: https://github.com/FStarLang/FStar
- **Claude Code Skills**: https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills

---

## ðŸ§  Philosophy

> "Formal verification is not about proving programs correct;
> it's about understanding what correctness means."

F* Labs embraces:
- **Rigor** - Mathematical certainty in software
- **Pragmatism** - Extraction to real-world code
- **Education** - Progressive learning frameworks
- **Integration** - Seamless AI agent collaboration

---

**Status**: Active research laboratory
**Last Updated**: 2025-11-18
**Skill Version**: 1.0 (82KB comprehensive)
**Framework Version**: 1.0 (7-level categorical)

---

*Built with formal methods, dependent types, and category theory.*
*Powered by F*, Z3, and Claude Code agent architecture.*
